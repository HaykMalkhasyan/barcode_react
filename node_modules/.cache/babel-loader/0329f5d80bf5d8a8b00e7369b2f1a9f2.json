{"ast":null,"code":"import { GET_LANGUAGES_REQUEST, GET_LANGUAGES_FAIL, GET_LANGUAGES_SUCCESS, GET_TRANSLATIONS_REQUEST, GET_TRANSLATIONS_FAIL, GET_TRANSLATIONS_SUCCESS, SET_ACTIVE_LANGUAGE, SET_MODAL_LANGUAGE, TOGGLE_MODAL_LANGUAGE, SET_TRANSLATIONS_REQUEST, SET_TRANSLATIONS_FAIL, SET_TRANSLATIONS_SUCCESS } from \"./actionTypes\";\nimport SessionStorage from \"../../services/SessionStorage\";\nvar col = 'key, value, lang';\nexport var getLanguages = function getLanguages() {\n  return {\n    types: [GET_LANGUAGES_REQUEST, GET_LANGUAGES_FAIL, GET_LANGUAGES_SUCCESS],\n    promise: function promise(apiClient) {\n      return apiClient.gett(\"languages\");\n    }\n  };\n};\nexport var getTranslations = function getTranslations() {\n  return {\n    types: [GET_TRANSLATIONS_REQUEST, GET_TRANSLATIONS_FAIL, GET_TRANSLATIONS_SUCCESS],\n    promise: function promise(apiClient) {\n      return apiClient.gett(\"translations/\");\n    }\n  };\n};\nexport var checkTranslations = function checkTranslations(key, value) {\n  var language = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SessionStorage.get('lang');\n  return function (dispatch, getState) {\n    var index = false;\n    var translations = getState().languages.translations;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = getState().languages.translations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var item = _step.value;\n\n        if (item.key === key && item.value === value && item.language === language) {\n          index = true;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    if (index === false) {\n      dispatch(setTranslations(key, value, language));\n    }\n  };\n};\nexport var setTranslations = function setTranslations(key, value, language) {\n  console.log({\n    key: key,\n    value: value,\n    language: language\n  });\n  return {\n    types: [SET_TRANSLATIONS_REQUEST, SET_TRANSLATIONS_FAIL, SET_TRANSLATIONS_SUCCESS],\n    promise: function promise(apiClient) {\n      return apiClient.posttAdd(\"translations/\", {\n        key: key,\n        value: value,\n        language: language\n      }, {\n        col: col\n      });\n    }\n  };\n};\nexport var setLanguage = function setLanguage(lang) {\n  SessionStorage.set(\"lang\", lang);\n  return {\n    type: SET_ACTIVE_LANGUAGE,\n    lang: lang\n  };\n};\nexport var setModalLanguage = function setModalLanguage(lang) {\n  return {\n    type: SET_MODAL_LANGUAGE,\n    lang: lang\n  };\n};\nexport var toggleModalLanguage = function toggleModalLanguage() {\n  return {\n    type: TOGGLE_MODAL_LANGUAGE\n  };\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/redux/lang/actions.js"],"names":["GET_LANGUAGES_REQUEST","GET_LANGUAGES_FAIL","GET_LANGUAGES_SUCCESS","GET_TRANSLATIONS_REQUEST","GET_TRANSLATIONS_FAIL","GET_TRANSLATIONS_SUCCESS","SET_ACTIVE_LANGUAGE","SET_MODAL_LANGUAGE","TOGGLE_MODAL_LANGUAGE","SET_TRANSLATIONS_REQUEST","SET_TRANSLATIONS_FAIL","SET_TRANSLATIONS_SUCCESS","SessionStorage","col","getLanguages","types","promise","apiClient","gett","getTranslations","checkTranslations","key","value","language","get","dispatch","getState","index","translations","languages","item","setTranslations","console","log","posttAdd","setLanguage","lang","set","type","setModalLanguage","toggleModalLanguage"],"mappings":"AAAA,SACIA,qBADJ,EAEIC,kBAFJ,EAGIC,qBAHJ,EAIIC,wBAJJ,EAKIC,qBALJ,EAMIC,wBANJ,EAOIC,mBAPJ,EAQIC,kBARJ,EASIC,qBATJ,EAUIC,wBAVJ,EAWIC,qBAXJ,EAYIC,wBAZJ,QAaO,eAbP;AAcA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,IAAIC,GAAG,GAAG,kBAAV;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC9B,SAAO;AACHC,IAAAA,KAAK,EAAE,CAACf,qBAAD,EAAuBC,kBAAvB,EAA0CC,qBAA1C,CADJ;AAEHc,IAAAA,OAAO,EAAE,iBAACC,SAAD;AAAA,aAAeA,SAAS,CAACC,IAAV,aAAf;AAAA;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACjC,SAAO;AACHJ,IAAAA,KAAK,EAAE,CAACZ,wBAAD,EAA0BC,qBAA1B,EAAgDC,wBAAhD,CADJ;AAEHW,IAAAA,OAAO,EAAE,iBAACC,SAAD;AAAA,aAAeA,SAAS,CAACC,IAAV,iBAAf;AAAA;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,GAAD,EAAMC,KAAN,EAAuD;AAAA,MAA1CC,QAA0C,uEAA/BX,cAAc,CAACY,GAAf,CAAmB,MAAnB,CAA+B;AAEpF,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC3B,QAAIC,KAAK,GAAG,KAAZ;AACA,QAAIC,YAAY,GAAGF,QAAQ,GAAGG,SAAX,CAAqBD,YAAxC;AAF2B;AAAA;AAAA;;AAAA;AAIvB,2BAAiBF,QAAQ,GAAGG,SAAX,CAAqBD,YAAtC,8HAAoD;AAAA,YAA3CE,IAA2C;;AAChD,YAAIA,IAAI,CAACT,GAAL,KAAaA,GAAb,IAAoBS,IAAI,CAACR,KAAL,KAAeA,KAAnC,IAA4CQ,IAAI,CAACP,QAAL,KAAkBA,QAAlE,EAA4E;AACxEI,UAAAA,KAAK,GAAG,IAAR;AACH;AACJ;AARsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASvB,QAAIA,KAAK,KAAK,KAAd,EAAqB;AACjBF,MAAAA,QAAQ,CAACM,eAAe,CAACV,GAAD,EAAMC,KAAN,EAAaC,QAAb,CAAhB,CAAR;AACH;AACJ,GAZL;AAaH,CAfM;AAiBP,OAAO,IAAMQ,eAAe,GAAE,SAAjBA,eAAiB,CAACV,GAAD,EAAMC,KAAN,EAAaC,QAAb,EAAyB;AACnDS,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACZ,IAAAA,GAAG,EAAHA,GAAD;AAAMC,IAAAA,KAAK,EAALA,KAAN;AAAaC,IAAAA,QAAQ,EAARA;AAAb,GAAZ;AACA,SAAO;AACHR,IAAAA,KAAK,EAAE,CAACN,wBAAD,EAA2BC,qBAA3B,EAAkDC,wBAAlD,CADJ;AAEHK,IAAAA,OAAO,EAAE,iBAACC,SAAD;AAAA,aAAeA,SAAS,CAACiB,QAAV,kBAAoC;AAACb,QAAAA,GAAG,EAAHA,GAAD;AAAMC,QAAAA,KAAK,EAALA,KAAN;AAAaC,QAAAA,QAAQ,EAARA;AAAb,OAApC,EAA4D;AAACV,QAAAA,GAAG,EAAHA;AAAD,OAA5D,CAAf;AAAA;AAFN,GAAP;AAIH,CANM;AAQP,OAAO,IAAMsB,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAS;AAChCxB,EAAAA,cAAc,CAACyB,GAAf,CAAmB,MAAnB,EAA2BD,IAA3B;AACA,SAAO;AACHE,IAAAA,IAAI,EAAEhC,mBADH;AAEH8B,IAAAA,IAAI,EAAJA;AAFG,GAAP;AAIH,CANM;AAQP,OAAO,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACH,IAAD,EAAS;AACrC,SAAO;AACHE,IAAAA,IAAI,EAAE/B,kBADH;AAEH6B,IAAAA,IAAI,EAAJA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,IAAMI,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAK;AACpC,SAAO;AACHF,IAAAA,IAAI,EAAE9B;AADH,GAAP;AAGH,CAJM","sourcesContent":["import {\r\n    GET_LANGUAGES_REQUEST,\r\n    GET_LANGUAGES_FAIL,\r\n    GET_LANGUAGES_SUCCESS,\r\n    GET_TRANSLATIONS_REQUEST,\r\n    GET_TRANSLATIONS_FAIL,\r\n    GET_TRANSLATIONS_SUCCESS,\r\n    SET_ACTIVE_LANGUAGE,\r\n    SET_MODAL_LANGUAGE,\r\n    TOGGLE_MODAL_LANGUAGE,\r\n    SET_TRANSLATIONS_REQUEST,\r\n    SET_TRANSLATIONS_FAIL,\r\n    SET_TRANSLATIONS_SUCCESS\r\n} from \"./actionTypes\";\r\nimport SessionStorage from \"../../services/SessionStorage\";\r\n\r\nlet col = 'key, value, lang'\r\n\r\nexport const getLanguages = () => {\r\n    return {\r\n        types: [GET_LANGUAGES_REQUEST,GET_LANGUAGES_FAIL,GET_LANGUAGES_SUCCESS],\r\n        promise: (apiClient) => apiClient.gett(`languages`)\r\n    }\r\n};\r\n\r\nexport const getTranslations = () => {\r\n    return {\r\n        types: [GET_TRANSLATIONS_REQUEST,GET_TRANSLATIONS_FAIL,GET_TRANSLATIONS_SUCCESS],\r\n        promise: (apiClient) => apiClient.gett(`translations/`)\r\n    }\r\n}\r\n\r\nexport const checkTranslations = (key, value, language = SessionStorage.get('lang')) => {\r\n\r\n    return (dispatch, getState) => {\r\n        let index = false;\r\n        let translations = getState().languages.translations;\r\n\r\n            for (let item of getState().languages.translations) {\r\n                if (item.key === key && item.value === value && item.language === language) {\r\n                    index = true;\r\n                }\r\n            }\r\n            if (index === false) {\r\n                dispatch(setTranslations(key, value, language))\r\n            }\r\n        }\r\n}\r\n\r\nexport const setTranslations =(key, value, language) =>{\r\n    console.log({key, value, language})\r\n    return {\r\n        types: [SET_TRANSLATIONS_REQUEST, SET_TRANSLATIONS_FAIL, SET_TRANSLATIONS_SUCCESS],\r\n        promise: (apiClient) => apiClient.posttAdd(`translations/`, {key, value, language}, {col})\r\n    }\r\n}\r\n\r\nexport const setLanguage = (lang) =>{\r\n    SessionStorage.set(\"lang\" ,lang)\r\n    return {\r\n        type: SET_ACTIVE_LANGUAGE,\r\n        lang\r\n    }\r\n};\r\n\r\nexport const setModalLanguage = (lang) =>{\r\n    return {\r\n        type: SET_MODAL_LANGUAGE,\r\n        lang\r\n    }\r\n};\r\n\r\nexport const toggleModalLanguage = () =>{\r\n    return {\r\n        type: TOGGLE_MODAL_LANGUAGE,\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}