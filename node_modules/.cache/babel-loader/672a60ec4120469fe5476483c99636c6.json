{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\src\\\\containers\\\\pages\\\\group\\\\treeUi\\\\tree.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { fade, makeStyles, withStyles } from '@material-ui/core/styles';\nimport TreeView from '@material-ui/lab/TreeView';\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport Collapse from '@material-ui/core/Collapse';\nimport { useSpring, animated } from 'react-spring/web.cjs';\nimport ContextMenu from \"./contextMenu/contextMenu\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'; // fake data generator\n\nvar getItems = function getItems(count) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Array.from({\n    length: count\n  }, function (v, k) {\n    return k;\n  }).map(function (k) {\n    return {\n      id: \"item-\".concat(k + offset),\n      content: \"item \".concat(k + offset)\n    };\n  });\n}; // a little function to help us with reordering the result\n\n\nvar reorder = function reorder(list, startIndex, endIndex) {\n  var result = Array.from(list);\n\n  var _result$splice = result.splice(startIndex, 1),\n      _result$splice2 = _slicedToArray(_result$splice, 1),\n      removed = _result$splice2[0];\n\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n/**\r\n * Moves an item from one list to another list.\r\n */\n\n\nvar move = function move(source, destination, droppableSource, droppableDestination) {\n  var sourceClone = Array.from(source);\n  var destClone = Array.from(destination);\n\n  var _sourceClone$splice = sourceClone.splice(droppableSource.index, 1),\n      _sourceClone$splice2 = _slicedToArray(_sourceClone$splice, 1),\n      removed = _sourceClone$splice2[0];\n\n  destClone.splice(droppableDestination.index, 0, removed);\n  var result = {};\n  result[droppableSource.droppableId] = sourceClone;\n  result[droppableDestination.droppableId] = destClone;\n  return result;\n};\n\nvar grid = 8;\n\nvar getItemStyle = function getItemStyle(isDragging, draggableStyle) {\n  return _objectSpread({\n    // some basic styles to make the items look a bit nicer\n    userSelect: 'none',\n    padding: grid * 2,\n    margin: \"0 0 \".concat(grid, \"px 0\"),\n    // change background colour if dragging\n    background: isDragging ? 'lightgreen' : 'grey'\n  }, draggableStyle);\n};\n\nvar getListStyle = function getListStyle(isDraggingOver) {\n  return {\n    background: isDraggingOver ? 'lightblue' : 'lightgrey',\n    padding: grid,\n    width: 250\n  };\n};\n\nfunction MinusSquare(props) {\n  return React.createElement(SvgIcon, Object.assign({\n    fontSize: \"inherit\",\n    style: {\n      width: 14,\n      height: 14\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    d: \"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }));\n}\n\nfunction PlusSquare(props) {\n  return React.createElement(SvgIcon, Object.assign({\n    fontSize: \"inherit\",\n    style: {\n      width: 14,\n      height: 14\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    d: \"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }));\n}\n\nfunction CloseSquare(props) {\n  return React.createElement(SvgIcon, Object.assign({\n    className: \"close\",\n    fontSize: \"inherit\",\n    style: {\n      width: 14,\n      height: 14\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    d: \"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n}\n\nfunction TransitionComponent(props) {\n  var style = useSpring({\n    from: {\n      opacity: 0,\n      transform: 'translate3d(20px,0,0)'\n    },\n    to: {\n      opacity: props.in ? 1 : 0,\n      transform: \"translate3d(\".concat(props.in ? 0 : 20, \"px,0,0)\")\n    }\n  });\n  return React.createElement(animated.div, {\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Collapse, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  })));\n}\n\nTransitionComponent.propTypes = {\n  /**\r\n   * Show the component; triggers the enter or exit states\r\n   */\n  in: PropTypes.bool\n};\nvar StyledTreeItem = withStyles(function (theme) {\n  return {\n    iconContainer: {\n      '& .close': {\n        opacity: 0.1\n      }\n    },\n    group: {\n      marginLeft: 7,\n      paddingLeft: 18,\n      borderLeft: \"1px dashed \".concat(fade(theme.palette.text.primary, 0.4))\n    }\n  };\n})(function (props) {\n  return React.createElement(TreeItem, Object.assign({}, props, {\n    TransitionComponent: TransitionComponent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }));\n});\nvar useStyles = makeStyles({\n  root: {\n    height: 'auto',\n    flexGrow: 1,\n    maxWidth: '100%',\n    fontSize: '2rem !important'\n  }\n});\nexport default function CustomizedTreeView(props) {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      menu = _useState2[0],\n      setMenu = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      x = _useState4[0],\n      setX = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      y = _useState6[0],\n      setY = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      id = _useState8[0],\n      setId = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      group_id = _useState10[0],\n      setGroup_id = _useState10[1];\n\n  useEffect(function () {\n    window.onclick = function () {\n      return setMenu(false);\n    };\n\n    window.onscroll = function () {\n      return setMenu(false);\n    }; // window.onmousedown = () => setMenu(false)\n\n  }, []);\n\n  var myContextMenu = function myContextMenu(event, group_id, id) {\n    event.stopPropagation();\n    console.log('item id: ', id);\n    event.preventDefault();\n    setMenu(!menu);\n    setX(event.clientX);\n    setY(event.clientY);\n    setGroup_id(group_id);\n    setId(id);\n  };\n\n  var onClickHandler = function onClickHandler(type, group_id, id) {\n    switch (type) {\n      case 'add':\n        {\n          props.setActionToggleSubModal(type, group_id, id);\n          break;\n        }\n\n      case 'edit':\n        {\n          props.subGroupActions('get', id);\n          props.setActionToggleSubModal(type);\n          break;\n        }\n\n      default:\n        {\n          props.subGroupActions('get', id);\n          props.subGroupActions('delete', id);\n          break;\n        }\n    }\n  };\n\n  var treeItemRender = function treeItemRender(group_id, id) {\n    return props.data.map(function (item) {\n      if (parseInt(item.parent_id) === parseInt(id)) {\n        var groupId = item.group_id ? item.group_id.id : false;\n\n        if (parseInt(groupId) === parseInt(group_id)) {\n          return React.createElement(StyledTreeItem, {\n            onContextMenu: function onContextMenu(event) {\n              return myContextMenu(event, item.group_id.id, item.id);\n            },\n            key: item.id,\n            nodeId: \"\\\"\".concat(item.id, \"\\\"\"),\n            label: item.name,\n            fontSize: '20px',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, treeItemRender(item.group_id.id, item.id));\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    });\n  };\n  /*-----------------------------------------------------------------------------------*/\n\n\n  onDragEnd = function onDragEnd(result) {\n    var source = result.source,\n        destination = result.destination; // dropped outside the list\n\n    if (!destination) {\n      return;\n    }\n\n    if (source.droppableId === destination.droppableId) {\n      var items = reorder(_this.getList(source.droppableId), source.index, destination.index);\n      var state = {\n        items: items\n      };\n\n      if (source.droppableId === 'droppable2') {\n        state = {\n          selected: items\n        };\n      }\n\n      _this.setState(state);\n    } else {\n      var _result = move(_this.getList(source.droppableId), _this.getList(destination.droppableId), source, destination);\n\n      _this.setState({\n        items: _result.droppable,\n        selected: _result.droppable2\n      });\n    }\n  };\n  /*-----------------------------------------------------------------------------------*/\n\n\n  return React.createElement(React.Fragment, null, menu ? React.createElement(ContextMenu, {\n    onClick: onClickHandler,\n    left: x,\n    top: y,\n    id: id,\n    group_id: group_id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }) : null, React.createElement(DragDropContext, {\n    onDragEnd: this.onDragEnd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, React.createElement(Droppable, {\n    droppableId: \"droppable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, function (provided, snapshot) {\n    return React.createElement(\"div\", {\n      ref: provided.innerRef,\n      style: getListStyle(snapshot.isDraggingOver),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, _this.state.items.map(function (item, index) {\n      return React.createElement(Draggable, {\n        key: item.id,\n        draggableId: item.id,\n        index: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, function (provided, snapshot) {\n        return React.createElement(\"div\", Object.assign({\n          ref: provided.innerRef\n        }, provided.draggableProps, provided.dragHandleProps, {\n          style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }), React.createElement(TreeView, {\n          className: classes.root,\n          defaultExpanded: ['1'],\n          defaultCollapseIcon: React.createElement(MinusSquare, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 291\n            },\n            __self: this\n          }),\n          defaultExpandIcon: React.createElement(PlusSquare, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 292\n            },\n            __self: this\n          }),\n          defaultEndIcon: React.createElement(CloseSquare, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(StyledTreeItem // onContextMenu={event => myContextMenu(event, props.mainId)}\n        , {\n          nodeId: \"\".concat(props.mainId),\n          label: props.mainName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, props.data.length ? props.data.map(function (item) {\n          return item.group_id && !item.parent_id ? props.mainId === item.group_id.id ? React.createElement(StyledTreeItem, {\n            onContextMenu: function onContextMenu(event) {\n              return myContextMenu(event, item.group_id.id, item.id);\n            },\n            key: item.id,\n            nodeId: \"\\\"\".concat(item.id, \"\\\"\"),\n            label: item.name,\n            fontSize: '20px',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }, treeItemRender(item.group_id.id, item.id) ? treeItemRender(item.group_id.id, item.id) : 'empty') : null : null;\n        }) : null)));\n      });\n    }), provided.placeholder);\n  })));\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/containers/pages/group/treeUi/tree.js"],"names":["React","useEffect","useState","PropTypes","SvgIcon","fade","makeStyles","withStyles","TreeView","TreeItem","Collapse","useSpring","animated","ContextMenu","DragDropContext","Droppable","Draggable","getItems","count","offset","Array","from","length","v","k","map","id","content","reorder","list","startIndex","endIndex","result","splice","removed","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","index","droppableId","grid","getItemStyle","isDragging","draggableStyle","userSelect","padding","margin","background","getListStyle","isDraggingOver","width","MinusSquare","props","height","PlusSquare","CloseSquare","TransitionComponent","style","opacity","transform","to","in","propTypes","bool","StyledTreeItem","theme","iconContainer","group","marginLeft","paddingLeft","borderLeft","palette","text","primary","useStyles","root","flexGrow","maxWidth","fontSize","CustomizedTreeView","classes","menu","setMenu","x","setX","y","setY","setId","group_id","setGroup_id","window","onclick","onscroll","myContextMenu","event","stopPropagation","console","log","preventDefault","clientX","clientY","onClickHandler","type","setActionToggleSubModal","subGroupActions","treeItemRender","data","item","parseInt","parent_id","groupId","name","onDragEnd","items","getList","state","selected","setState","droppable","droppable2","provided","snapshot","innerRef","draggableProps","dragHandleProps","mainId","mainName","placeholder"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\nimport {fade, makeStyles, withStyles} from '@material-ui/core/styles';\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport TreeItem from '@material-ui/lab/TreeItem';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport {useSpring, animated} from 'react-spring/web.cjs';\r\nimport ContextMenu from \"./contextMenu/contextMenu\";\r\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\r\n\r\n// fake data generator\r\nconst getItems = (count, offset = 0) =>\r\n    Array.from({length: count}, (v, k) => k).map(k => ({\r\n        id: `item-${k + offset}`,\r\n        content: `item ${k + offset}`\r\n    }));\r\n\r\n// a little function to help us with reordering the result\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Moves an item from one list to another list.\r\n */\r\nconst move = (source, destination, droppableSource, droppableDestination) => {\r\n    const sourceClone = Array.from(source);\r\n    const destClone = Array.from(destination);\r\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\r\n\r\n    destClone.splice(droppableDestination.index, 0, removed);\r\n\r\n    const result = {};\r\n    result[droppableSource.droppableId] = sourceClone;\r\n    result[droppableDestination.droppableId] = destClone;\r\n\r\n    return result;\r\n};\r\n\r\nconst grid = 8;\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? 'lightgreen' : 'grey',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n    background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n    padding: grid,\r\n    width: 250\r\n});\r\n\r\nfunction MinusSquare(props) {\r\n    return (\r\n        <SvgIcon fontSize=\"inherit\" style={{width: 14, height: 14}} {...props}>\r\n            {/* tslint:disable-next-line: max-line-length */}\r\n            <path\r\n                d=\"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z\"/>\r\n        </SvgIcon>\r\n    );\r\n}\r\n\r\nfunction PlusSquare(props) {\r\n    return (\r\n        <SvgIcon fontSize=\"inherit\" style={{width: 14, height: 14}} {...props}>\r\n            {/* tslint:disable-next-line: max-line-length */}\r\n            <path\r\n                d=\"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z\"/>\r\n        </SvgIcon>\r\n    );\r\n}\r\n\r\nfunction CloseSquare(props) {\r\n    return (\r\n        <SvgIcon className=\"close\" fontSize=\"inherit\" style={{width: 14, height: 14}} {...props}>\r\n            {/* tslint:disable-next-line: max-line-length */}\r\n            <path\r\n                d=\"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z\"/>\r\n        </SvgIcon>\r\n    );\r\n}\r\n\r\nfunction TransitionComponent(props) {\r\n    const style = useSpring({\r\n        from: {opacity: 0, transform: 'translate3d(20px,0,0)'},\r\n        to: {opacity: props.in ? 1 : 0, transform: `translate3d(${props.in ? 0 : 20}px,0,0)`},\r\n    });\r\n\r\n    return (\r\n        <animated.div style={style}>\r\n            <Collapse {...props} />\r\n        </animated.div>\r\n    );\r\n}\r\n\r\nTransitionComponent.propTypes = {\r\n    /**\r\n     * Show the component; triggers the enter or exit states\r\n     */\r\n    in: PropTypes.bool,\r\n};\r\n\r\nconst StyledTreeItem = withStyles((theme) => ({\r\n    iconContainer: {\r\n        '& .close': {\r\n            opacity: 0.1,\r\n        },\r\n    },\r\n    group: {\r\n        marginLeft: 7,\r\n        paddingLeft: 18,\r\n        borderLeft: `1px dashed ${fade(theme.palette.text.primary, 0.4)}`,\r\n    },\r\n}))((props) => <TreeItem {...props} TransitionComponent={TransitionComponent}/>);\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        height: 'auto',\r\n        flexGrow: 1,\r\n        maxWidth: '100%',\r\n        fontSize: '2rem !important'\r\n    },\r\n});\r\n\r\nexport default function CustomizedTreeView(props) {\r\n    const classes = useStyles();\r\n    const [menu, setMenu] = useState(false)\r\n    const [x, setX] = useState(0)\r\n    const [y, setY] = useState(0)\r\n    const [id, setId] = useState(null)\r\n    const [group_id, setGroup_id] = useState(null)\r\n\r\n    useEffect(\r\n        () => {\r\n            window.onclick = () => setMenu(false)\r\n            window.onscroll = () => setMenu(false)\r\n            // window.onmousedown = () => setMenu(false)\r\n        }, []\r\n    )\r\n\r\n    const myContextMenu = (event, group_id, id) => {\r\n        event.stopPropagation();\r\n        console.log('item id: ', id)\r\n        event.preventDefault()\r\n        setMenu(!menu)\r\n        setX(event.clientX)\r\n        setY(event.clientY)\r\n        setGroup_id(group_id)\r\n        setId(id)\r\n    }\r\n\r\n    const onClickHandler = (type, group_id, id) => {\r\n\r\n        switch (type) {\r\n            case 'add': {\r\n                props.setActionToggleSubModal(type, group_id, id);\r\n                break;\r\n            }\r\n            case 'edit': {\r\n                props.subGroupActions('get', id);\r\n                props.setActionToggleSubModal(type);\r\n                break;\r\n            }\r\n            default: {\r\n                props.subGroupActions('get', id);\r\n                props.subGroupActions('delete', id);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    const treeItemRender = (group_id, id) => {\r\n\r\n        return props.data.map(\r\n            item => {\r\n                if (parseInt(item.parent_id) === parseInt(id)) {\r\n                    let groupId = item.group_id ? item.group_id.id : false\r\n                    if (parseInt(groupId) === parseInt(group_id)) {\r\n                        return (\r\n                            <StyledTreeItem\r\n                                onContextMenu={event => myContextMenu(event, item.group_id.id, item.id)}\r\n                                key={item.id}\r\n                                nodeId={`\"${item.id}\"`}\r\n                                label={item.name}\r\n                                fontSize={'20px'}>\r\n                                {\r\n                                    treeItemRender(item.group_id.id, item.id)\r\n                                }\r\n                            </StyledTreeItem>\r\n                        )\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n        )\r\n    }\r\n    /*-----------------------------------------------------------------------------------*/\r\n    onDragEnd = result => {\r\n        const {source, destination} = result;\r\n\r\n        // dropped outside the list\r\n        if (!destination) {\r\n            return;\r\n        }\r\n\r\n        if (source.droppableId === destination.droppableId) {\r\n            const items = reorder(\r\n                this.getList(source.droppableId),\r\n                source.index,\r\n                destination.index\r\n            );\r\n\r\n            let state = {items};\r\n\r\n            if (source.droppableId === 'droppable2') {\r\n                state = {selected: items};\r\n            }\r\n\r\n            this.setState(state);\r\n        } else {\r\n            const result = move(\r\n                this.getList(source.droppableId),\r\n                this.getList(destination.droppableId),\r\n                source,\r\n                destination\r\n            );\r\n\r\n            this.setState({\r\n                items: result.droppable,\r\n                selected: result.droppable2\r\n            });\r\n        }\r\n    };\r\n\r\n    /*-----------------------------------------------------------------------------------*/\r\n\r\n    return (\r\n\r\n        <>\r\n            {\r\n                menu ?\r\n                    <ContextMenu\r\n                        onClick={onClickHandler}\r\n                        left={x}\r\n                        top={y}\r\n                        id={id}\r\n                        group_id={group_id}\r\n                    />\r\n                    :\r\n                    null\r\n            }\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n                <Droppable droppableId=\"droppable\">\r\n                    {(provided, snapshot) => (\r\n                        <div\r\n                            ref={provided.innerRef}\r\n                            style={getListStyle(snapshot.isDraggingOver)}>\r\n                            {this.state.items.map((item, index) => (\r\n                                <Draggable\r\n                                    key={item.id}\r\n                                    draggableId={item.id}\r\n                                    index={index}>\r\n                                    {(provided, snapshot) => (\r\n                                        <div\r\n                                            ref={provided.innerRef}\r\n                                            {...provided.draggableProps}\r\n                                            {...provided.dragHandleProps}\r\n                                            style={getItemStyle(\r\n                                                snapshot.isDragging,\r\n                                                provided.draggableProps.style\r\n                                            )}>\r\n                                            <TreeView\r\n                                                className={classes.root}\r\n                                                defaultExpanded={['1']}\r\n                                                defaultCollapseIcon={<MinusSquare/>}\r\n                                                defaultExpandIcon={<PlusSquare/>}\r\n                                                defaultEndIcon={<CloseSquare/>}\r\n                                            >\r\n                                                <StyledTreeItem\r\n                                                    // onContextMenu={event => myContextMenu(event, props.mainId)}\r\n                                                    nodeId={`${props.mainId}`}\r\n                                                    label={props.mainName}\r\n                                                >\r\n                                                    {\r\n                                                        props.data.length ?\r\n                                                            props.data.map(\r\n                                                                item => {\r\n\r\n                                                                    return item.group_id && !item.parent_id ?\r\n\r\n                                                                        props.mainId === item.group_id.id ?\r\n                                                                            <StyledTreeItem\r\n                                                                                onContextMenu={event => myContextMenu(event, item.group_id.id, item.id)}\r\n                                                                                key={item.id}\r\n                                                                                nodeId={`\"${item.id}\"`}\r\n                                                                                label={item.name}\r\n                                                                                fontSize={'20px'}>\r\n                                                                                {\r\n                                                                                    treeItemRender(item.group_id.id, item.id) ? treeItemRender(item.group_id.id, item.id) : 'empty'\r\n                                                                                }\r\n                                                                            </StyledTreeItem>\r\n                                                                            :\r\n                                                                            null\r\n                                                                        :\r\n                                                                        null\r\n                                                                }\r\n                                                            )\r\n                                                            :\r\n                                                            null\r\n                                                    }\r\n                                                </StyledTreeItem>\r\n                                            </TreeView>\r\n                                        </div>\r\n                                    )}\r\n                                </Draggable>\r\n                            ))}\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}