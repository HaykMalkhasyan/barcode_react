{"ast":null,"code":"import SessionStorage from '../services/SessionStorage';\nimport jwt from 'jwt-simple';\nimport jwt_decode from 'jwt-decode';\nexport var saveSession = function saveSession(key, _ref) {\n  var access = _ref.access,\n      refresh = _ref.refresh,\n      user = _ref.user;\n  var withUser = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var u = jwt_decode(access);\n  console.log('sdfasdfasf', u);\n  user.username = u.username;\n  user.user_id = u.user_id;\n  user.email = u.email;\n  user.firstname = u.firstname;\n  user.lastname = u.lastname;\n  var options = {\n    path: '/',\n    expires: new Date(Date.now())\n  };\n  SessionStorage.set('access', access, options);\n  SessionStorage.set('refresh', refresh, options);\n\n  if (withUser) {\n    SessionStorage.set('user', user, options);\n  }\n};\nexport var getSession = function getSession(key) {\n  var result = SessionStorage.get(key);\n  return result;\n};\nexport var destroySession = function destroySession() {\n  var options = {\n    path: '/'\n  };\n  SessionStorage.remove('access', options);\n  SessionStorage.remove('refresh', options);\n  SessionStorage.remove('user', options);\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/utility/session.js"],"names":["SessionStorage","jwt","jwt_decode","saveSession","key","access","refresh","user","withUser","u","console","log","username","user_id","email","firstname","lastname","options","path","expires","Date","now","set","getSession","result","get","destroySession","remove"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,4BAA3B;AACA,OAAQC,GAAR,MAAkB,YAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,QAAiD;AAAA,MAA3CC,MAA2C,QAA3CA,MAA2C;AAAA,MAAnCC,OAAmC,QAAnCA,OAAmC;AAAA,MAA3BC,IAA2B,QAA3BA,IAA2B;AAAA,MAApBC,QAAoB,uEAAT,IAAS;AACxE,MAAIC,CAAC,GAAGP,UAAU,CAACG,MAAD,CAAlB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,CAA1B;AACAF,EAAAA,IAAI,CAACK,QAAL,GAAgBH,CAAC,CAACG,QAAlB;AACAL,EAAAA,IAAI,CAACM,OAAL,GAAeJ,CAAC,CAACI,OAAjB;AACAN,EAAAA,IAAI,CAACO,KAAL,GAAaL,CAAC,CAACK,KAAf;AACAP,EAAAA,IAAI,CAACQ,SAAL,GAAiBN,CAAC,CAACM,SAAnB;AACAR,EAAAA,IAAI,CAACS,QAAL,GAAgBP,CAAC,CAACO,QAAlB;AACA,MAAMC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE,GADM;AAEZC,IAAAA,OAAO,EAAE,IAAIC,IAAJ,CAAUA,IAAI,CAACC,GAAL,EAAV;AAFG,GAAhB;AAIArB,EAAAA,cAAc,CAACsB,GAAf,CAAmB,QAAnB,EAA6BjB,MAA7B,EAAqCY,OAArC;AACAjB,EAAAA,cAAc,CAACsB,GAAf,CAAmB,SAAnB,EAA8BhB,OAA9B,EAAuCW,OAAvC;;AACA,MAAIT,QAAJ,EAAc;AACVR,IAAAA,cAAc,CAACsB,GAAf,CAAmB,MAAnB,EAA2Bf,IAA3B,EAAiCU,OAAjC;AACH;AACJ,CAjBM;AAmBP,OAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACnB,GAAD,EAAS;AAC/B,MAAIoB,MAAM,GAAGxB,cAAc,CAACyB,GAAf,CAAmBrB,GAAnB,CAAb;AAEA,SAAOoB,MAAP;AACH,CAJM;AAMP,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAChC,MAAMT,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE;AADM,GAAhB;AAGAlB,EAAAA,cAAc,CAAC2B,MAAf,CAAsB,QAAtB,EAAgCV,OAAhC;AACAjB,EAAAA,cAAc,CAAC2B,MAAf,CAAsB,SAAtB,EAAiCV,OAAjC;AACAjB,EAAAA,cAAc,CAAC2B,MAAf,CAAsB,MAAtB,EAA8BV,OAA9B;AACH,CAPM","sourcesContent":["import SessionStorage from '../services/SessionStorage';\r\nimport  jwt  from 'jwt-simple';\r\nimport jwt_decode from 'jwt-decode'\r\nexport const saveSession = (key,{access, refresh,user}, withUser = true) => {\r\n    let u = jwt_decode(access)\r\n    console.log('sdfasdfasf', u);\r\n    user.username = u.username;\r\n    user.user_id = u.user_id;\r\n    user.email = u.email;\r\n    user.firstname = u.firstname;\r\n    user.lastname = u.lastname;\r\n    const options = {\r\n        path: '/',\r\n        expires: new Date( Date.now()),\r\n    };\r\n    SessionStorage.set('access', access, options);\r\n    SessionStorage.set('refresh', refresh, options);\r\n    if (withUser) {\r\n        SessionStorage.set('user', user, options);\r\n    }\r\n};\r\n\r\nexport const getSession = (key) => {\r\n    let result = SessionStorage.get(key);\r\n\r\n    return result;\r\n}\r\n\r\nexport const destroySession = () => {\r\n    const options = {\r\n        path: '/'\r\n    };\r\n    SessionStorage.remove('access', options);\r\n    SessionStorage.remove('refresh', options);\r\n    SessionStorage.remove('user', options);\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}