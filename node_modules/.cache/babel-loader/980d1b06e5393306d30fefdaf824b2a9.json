{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\src\\\\Translate.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { setTranslations, getTranslations } from './redux/lang/actions';\nimport SessionStorage from \"./services/SessionStorage\";\n\nvar Translate =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Translate, _Component);\n\n  function Translate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Translate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Translate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.contentRender = function () {\n      var word = null;\n\n      if (_this.props.translations.length > 0) {\n        if (_this.props.translations[_this.props.name.toLowerCase()]) {\n          console.log(\"name\", _this.props.translations[_this.props.name.toLowerCase()]);\n          word = _this.props.translations[_this.props.name.toLowerCase()];\n        }\n      } else {\n        word = _this.props.name;\n      }\n\n      return word;\n    };\n\n    return _this;\n  }\n\n  _createClass(Translate, [{\n    key: \"addTo\",\n    value: function addTo(objIn, keyIn, valueIn, langIn) {\n      var cond = objIn.some(function (e) {\n        return e.key === keyIn && e.name === valueIn;\n      });\n\n      if (cond) {\n        console.log(\"Такой продукт уже есть\"); //Но лучше просто увеличивать count у продукта\n      } else {\n        return {\n          key: keyIn,\n          value: valueIn,\n          language: langIn\n        };\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.getTranslations();\n\n      if (!this.props.translations[this.props.name.toLowerCase()]) {\n        if (this.props.status) {\n          var lang = SessionStorage.get('lang') || \"am\";\n\n          if (this.props.translations.length > 0) {\n            var index = false;\n            var obj = this.addTo(this.props.translations, this.props.name.toLowerCase(), this.props.name, lang);\n            console.log('OBJECT: ', obj);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = this.props.translations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var item = _step.value;\n\n                if (item.value === this.props.name) {\n                  index = true;\n                }\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n\n            if (index === false) {\n              console.log('key: ', this.props.name.toLowerCase(), 'name: ', this.props.name, 'lnag: ', lang);\n              this.props.setTranslations(this.props.name, this.props.name, lang);\n            }\n          } else {\n            this.props.setTranslations(this.props.name, this.props.name, lang);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.contentRender());\n    }\n  }]);\n\n  return Translate;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setTranslations: setTranslations,\n    getTranslations: getTranslations\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    translations: state.languages.translations,\n    status: state.languages.status\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Translate);","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/Translate.js"],"names":["React","Component","connect","bindActionCreators","setTranslations","getTranslations","SessionStorage","Translate","contentRender","word","props","translations","length","name","toLowerCase","console","log","objIn","keyIn","valueIn","langIn","cond","some","e","key","value","language","status","lang","get","index","obj","addTo","item","mapDispatchToProps","dispatch","mapStateToProps","state","languages"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {setTranslations, getTranslations} from './redux/lang/actions'\r\nimport SessionStorage from \"./services/SessionStorage\";\r\n\r\n\r\nclass Translate extends Component {\r\n\r\n    addTo(objIn, keyIn, valueIn, langIn){\r\n        let cond = objIn.some(function(e){\r\n            return e.key === keyIn && e.name === valueIn;\r\n        });\r\n\r\n        if(cond){\r\n            console.log(\"Такой продукт уже есть\");\r\n            //Но лучше просто увеличивать count у продукта\r\n        }else{\r\n            return {key: keyIn, value: valueIn, language: langIn};\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.getTranslations()\r\n        if (!this.props.translations[this.props.name.toLowerCase()]) {\r\n            if (this.props.status) {\r\n                let lang = SessionStorage.get('lang') || \"am\";\r\n                if (this.props.translations.length > 0) {\r\n                    let index = false;\r\n                    let obj = this.addTo(this.props.translations, this.props.name.toLowerCase(), this.props.name, lang)\r\n                    console.log('OBJECT: ', obj);\r\n                    for (let item of this.props.translations) {\r\n                        if (item.value === this.props.name) {\r\n                            index = true;\r\n                        }\r\n                    }\r\n                    if (index === false) {\r\n                        console.log('key: ', this.props.name.toLowerCase(), 'name: ', this.props.name, 'lnag: ', lang)\r\n                        this.props.setTranslations(this.props.name, this.props.name, lang);\r\n                    }\r\n                } else {\r\n                    this.props.setTranslations(this.props.name, this.props.name, lang);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    contentRender = () => {\r\n        let word = null;\r\n                if (this.props.translations.length > 0) {\r\n                    if (this.props.translations[(this.props.name.toLowerCase())]) {\r\n                        console.log(\"name\", this.props.translations[this.props.name.toLowerCase()])\r\n                        word = this.props.translations[this.props.name.toLowerCase()]\r\n                    }\r\n                } else {\r\n                    word = this.props.name\r\n                }\r\n        return word;\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <span>\r\n                {\r\n                    this.contentRender()\r\n                }\r\n        </span>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n        {\r\n            setTranslations,\r\n            getTranslations\r\n        },\r\n        dispatch\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        translations: state.languages.translations,\r\n        status: state.languages.status\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Translate);"]},"metadata":{},"sourceType":"module"}