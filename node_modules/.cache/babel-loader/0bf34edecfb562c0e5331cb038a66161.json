{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport SessionStorage from \"./SessionStorage\";\nimport axios from \"axios\";\nimport { destroySession, getSession, saveSession } from \"../utility/session\";\nimport jwt_decode from 'jwt-decode';\n\nvar ApiClient =\n/*#__PURE__*/\nfunction () {\n  function ApiClient() {\n    _classCallCheck(this, ApiClient);\n\n    this.configs = {};\n    this.defaultConfigs = {};\n    this.API_URI = process.env.REACT_APP_API_URL;\n    this.defaultConfigs = {\n      headers: {},\n      path: \"\",\n      params: {}\n    };\n    this.resetConfigs();\n  }\n\n  _createClass(ApiClient, [{\n    key: \"getRuntimeConfigs\",\n    value: function getRuntimeConfigs() {\n      var token = SessionStorage.get(\"token\");\n      var lang = SessionStorage.get(\"lang\") ? SessionStorage.get(\"lang\") : 'am';\n      var headers = {\n        \"Content-Type\": \"application/json\",\n        \"Lang\": lang\n      };\n\n      if (token) {\n        headers[\"Token\"] = token;\n      }\n\n      return Object.assign({}, this.configs, {\n        headers: headers\n      });\n    }\n  }, {\n    key: \"resetConfigs\",\n    value: function resetConfigs() {\n      this.configs = Object.assign({}, this.defaultConfigs);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(key, value) {\n      this.configs = Object.assign({}, this.configs, _defineProperty({}, key, value));\n    }\n  }, {\n    key: \"mergeConfigs\",\n    value: function mergeConfigs(uri, params, headers, configs) {\n      var runtimeConfigs = this.getRuntimeConfigs();\n      var responseType = {};\n\n      if (params && params.responseType) {\n        responseType = params.responseType;\n      }\n\n      if (uri) {\n        params.path = uri;\n      }\n\n      return Object.assign({}, runtimeConfigs, Object.assign({}, configs, _objectSpread({}, responseType, {\n        params: Object.assign({}, runtimeConfigs.params, params),\n        headers: Object.assign({}, runtimeConfigs.headers, headers)\n      })));\n    }\n  }, {\n    key: \"get\",\n    value: function get(uri) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var configs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return axios.get(\"\".concat(this.API_URI), this.mergeConfigs(uri, params, headers, configs)).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post(uri, data) {\n      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var configs = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        hasFile: false\n      };\n      return axios.post(\"\".concat(this.API_URI), data, this.mergeConfigs(uri, params, headers, configs)).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"put\",\n    value: function put(uri, data) {\n      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var configs = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        hasFile: false\n      };\n      return axios.put(\"\".concat(this.API_URI), data, this.mergeConfigs(uri, params, headers, configs)).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(uri) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var configs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return axios.delete(\"\".concat(this.API_URI), this.mergeConfigs(uri, params, headers, configs)).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"upload\",\n    value: function upload(uri, form) {\n      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var configs = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        multiple: false\n      };\n      var files = form.files;\n      var formData = new FormData();\n      /*method map I change to forEach*/\n\n      Object.keys(files).forEach(function (key) {\n        formData.append(\"data[\" + key + \"][file]\", files[key]);\n        formData.append(\"data[\" + key + \"][type]\", form.type);\n        formData.append(\"data[\" + key + \"][caption]\", \"caption \" + key);\n        formData.append(\"data[\" + key + \"][credit]\", \"credit \" + key);\n      });\n      return this.post(uri, formData, params, headers, configs);\n    }\n    /*----------------------------------------*/\n\n  }, {\n    key: \"ggetRuntimeConfigs\",\n    value: function ggetRuntimeConfigs() {\n      var access = SessionStorage.get(\"access\");\n      var lang = SessionStorage.get(\"lang\") ? SessionStorage.get(\"lang\") : 'am';\n      var headers = {\n        \"Content-Type\": \"application/json\",\n        \"Lang\": lang\n      };\n\n      if (access) {\n        headers[\"Authorization\"] = \"JWT \".concat(access);\n      }\n\n      return Object.assign({}, {\n        headers: headers\n      });\n    }\n  }, {\n    key: \"mmergeConfigs\",\n    value: function mmergeConfigs(headers) {\n      var runtimeConfigs = this.ggetRuntimeConfigs();\n      return Object.assign({}, runtimeConfigs, Object.assign({}, {\n        headers: Object.assign({}, runtimeConfigs.headers)\n      }));\n    }\n  }, {\n    key: \"postt\",\n    value: function () {\n      var _postt = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(uri, data) {\n        var headers,\n            configs,\n            URL,\n            HEADERS,\n            CONFIG,\n            response,\n            user_data,\n            user,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n                configs = _args.length > 3 && _args[3] !== undefined ? _args[3] : {};\n                URL = uri;\n                HEADERS = headers;\n                CONFIG = configs;\n                _context.prev = 5;\n                _context.next = 8;\n                return axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\n\n              case 8:\n                response = _context.sent;\n                user_data = jwt_decode(response.data.access);\n                user = {\n                  firstname: user_data.firstname,\n                  lastname: user_data.lastname,\n                  user_id: user_data.user_id\n                };\n                response.data.user = user;\n                return _context.abrupt(\"return\", response.data);\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n                console.log('Error!');\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15]]);\n      }));\n\n      function postt(_x, _x2) {\n        return _postt.apply(this, arguments);\n      }\n\n      return postt;\n    }()\n  }, {\n    key: \"posttAdd\",\n    value: function () {\n      var _posttAdd = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(uri, data) {\n        var headers,\n            configs,\n            URL,\n            HEADERS,\n            CONFIG,\n            response,\n            refresh_token,\n            res,\n            uderData,\n            user,\n            resData,\n            _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                headers = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : {};\n                configs = _args2.length > 3 && _args2[3] !== undefined ? _args2[3] : {};\n                URL = uri;\n                HEADERS = headers;\n                CONFIG = configs;\n\n                if (!getSession('access')) {\n                  _context2.next = 34;\n                  break;\n                }\n\n                _context2.prev = 6;\n                _context2.next = 9;\n                return axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\n\n              case 9:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.data);\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](6);\n\n                if (!(_context2.t0.response.status === 401 && _context2.t0.response.statusText === \"Unauthorized\")) {\n                  _context2.next = 34;\n                  break;\n                }\n\n                refresh_token = getSession('refresh');\n                _context2.prev = 17;\n                res = axios.post('/token/refresh/', {\n                  refresh: refresh_token\n                });\n                uderData = jwt_decode(res.data.access);\n                user = {\n                  firstname: uderData.firstname,\n                  lastname: uderData.lastname,\n                  user_id: uderData.user_id\n                };\n                resData = {};\n                resData.refresh = res.data.refresh;\n                resData.access = res.data.access;\n                resData.user = user;\n                axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\n                _context2.t0.config.headers['Authorization'] = \"JWT \" + resData.access;\n                saveSession('auth', resData);\n                return _context2.abrupt(\"return\", axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG)).then(function (response) {\n                  return response.data;\n                }).catch(function (err) {\n                  console('Error');\n                }));\n\n              case 31:\n                _context2.prev = 31;\n                _context2.t1 = _context2[\"catch\"](17);\n                console.log('Error !');\n\n              case 34:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[6, 13], [17, 31]]);\n      }));\n\n      function posttAdd(_x3, _x4) {\n        return _posttAdd.apply(this, arguments);\n      }\n\n      return posttAdd;\n    }()\n  }, {\n    key: \"gett\",\n    value: function () {\n      var _gett = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(uri) {\n        var headers,\n            configs,\n            URL,\n            HEADERS,\n            CONFIG,\n            response,\n            refresh_token,\n            res,\n            uderData,\n            user,\n            resData,\n            _args3 = arguments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                headers = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n                configs = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n                URL = uri;\n                HEADERS = headers;\n                CONFIG = configs;\n\n                if (!getSession('access')) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _context3.prev = 6;\n                _context3.next = 9;\n                return axios.get(URL, this.mmergeConfigs(HEADERS, CONFIG));\n\n              case 9:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.data);\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](6);\n\n                if (!(_context3.t0.response.status === 401 && _context3.t0.response.statusText === \"Unauthorized\")) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                refresh_token = getSession('refresh');\n                console.log(JSON.stringify({\n                  refresh: refresh_token\n                }));\n                _context3.prev = 18;\n                console.log(_context3.t0.response.status);\n                console.log(_context3.t0.response.statusText);\n                res = axios.post('token/refresh/', JSON.stringify({\n                  refresh: refresh_token\n                }));\n                console.log(res.data);\n                uderData = jwt_decode(res.data.access);\n                user = {\n                  firstname: uderData.firstname,\n                  lastname: uderData.lastname,\n                  user_id: uderData.user_id\n                };\n                resData = {};\n                resData.refresh = res.data.refresh;\n                resData.access = res.data.access;\n                resData.user = user;\n                axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\n                _context3.t0.config.headers['Authorization'] = \"JWT \" + resData.access;\n                saveSession('auth', resData);\n                return _context3.abrupt(\"return\", axios.get(URL, this.mmergeConfigs(HEADERS, CONFIG)).then(function (response) {\n                  return response.data;\n                }).catch(function (err) {\n                  console('Error');\n                }));\n\n              case 35:\n                _context3.prev = 35;\n                _context3.t1 = _context3[\"catch\"](18);\n                console.log('Error !');\n\n              case 38:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 13], [18, 35]]);\n      }));\n\n      function gett(_x5) {\n        return _gett.apply(this, arguments);\n      }\n\n      return gett;\n    }()\n  }, {\n    key: \"setLogout\",\n    value: function setLogout() {\n      destroySession();\n    }\n  }, {\n    key: \"deletee\",\n    value: function () {\n      var _deletee = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(uri, data) {\n        var headers,\n            configs,\n            URL,\n            HEADERS,\n            CONFIG,\n            refresh_token,\n            res,\n            uderData,\n            user,\n            resData,\n            _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                headers = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n                configs = _args4.length > 3 && _args4[3] !== undefined ? _args4[3] : {};\n                URL = uri;\n                HEADERS = headers;\n                CONFIG = configs;\n\n                if (!getSession('access')) {\n                  _context4.next = 33;\n                  break;\n                }\n\n                _context4.prev = 6;\n                _context4.next = 9;\n                return axios.delete(URL, this.mmergeConfigs(HEADERS, CONFIG));\n\n              case 9:\n                return _context4.abrupt(\"return\", data);\n\n              case 12:\n                _context4.prev = 12;\n                _context4.t0 = _context4[\"catch\"](6);\n\n                if (!(_context4.t0.response.status === 401 && _context4.t0.response.statusText === \"Unauthorized\")) {\n                  _context4.next = 33;\n                  break;\n                }\n\n                refresh_token = getSession('refresh');\n                _context4.prev = 16;\n                res = axios.post('/token/refresh/', {\n                  refresh: refresh_token\n                });\n                uderData = jwt_decode(res.data.access);\n                user = {\n                  firstname: uderData.firstname,\n                  lastname: uderData.lastname,\n                  user_id: uderData.user_id\n                };\n                resData = {};\n                resData.refresh = res.data.refresh;\n                resData.access = res.data.access;\n                resData.user = user;\n                axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\n                _context4.t0.config.headers['Authorization'] = \"JWT \" + resData.access;\n                saveSession('auth', resData);\n                return _context4.abrupt(\"return\", axios.delete(URL, this.mmergeConfigs(HEADERS, CONFIG)).then(function (response) {\n                  return response.data;\n                }).catch(function (err) {\n                  console('Error');\n                }));\n\n              case 30:\n                _context4.prev = 30;\n                _context4.t1 = _context4[\"catch\"](16);\n                console.log('Error !');\n\n              case 33:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[6, 12], [16, 30]]);\n      }));\n\n      function deletee(_x6, _x7) {\n        return _deletee.apply(this, arguments);\n      }\n\n      return deletee;\n    }()\n  }, {\n    key: \"putt\",\n    value: function () {\n      var _putt = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(uri, data) {\n        var headers,\n            configs,\n            URL,\n            HEADERS,\n            CONFIG,\n            response,\n            refresh_token,\n            res,\n            uderData,\n            user,\n            resData,\n            _args5 = arguments;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                headers = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : {};\n                configs = _args5.length > 3 && _args5[3] !== undefined ? _args5[3] : {};\n                URL = uri;\n                HEADERS = headers;\n                CONFIG = configs;\n\n                if (!getSession('access')) {\n                  _context5.next = 34;\n                  break;\n                }\n\n                _context5.prev = 6;\n                _context5.next = 9;\n                return axios.put(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\n\n              case 9:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.data);\n\n              case 13:\n                _context5.prev = 13;\n                _context5.t0 = _context5[\"catch\"](6);\n\n                if (!(_context5.t0.response.status === 401 && _context5.t0.response.statusText === \"Unauthorized\")) {\n                  _context5.next = 34;\n                  break;\n                }\n\n                refresh_token = getSession('refresh');\n                _context5.prev = 17;\n                res = axios.post('/token/refresh/', {\n                  refresh: refresh_token\n                });\n                uderData = jwt_decode(res.data.access);\n                user = {\n                  firstname: uderData.firstname,\n                  lastname: uderData.lastname,\n                  user_id: uderData.user_id\n                };\n                resData = {};\n                resData.refresh = res.data.refresh;\n                resData.access = res.data.access;\n                resData.user = user;\n                axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\n                _context5.t0.config.headers['Authorization'] = \"JWT \" + resData.access;\n                saveSession('auth', resData);\n                return _context5.abrupt(\"return\", axios.put(URL, data, this.mmergeConfigs(HEADERS, CONFIG)).then(function (response) {\n                  return response.data;\n                }).catch(function (err) {\n                  console('Error');\n                }));\n\n              case 31:\n                _context5.prev = 31;\n                _context5.t1 = _context5[\"catch\"](17);\n                console.log('Error !');\n\n              case 34:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[6, 13], [17, 31]]);\n      }));\n\n      function putt(_x8, _x9) {\n        return _putt.apply(this, arguments);\n      }\n\n      return putt;\n    }()\n  }], [{\n    key: \"cancelToken\",\n    value: function cancelToken() {\n      var CancelToken = axios.CancelToken;\n      return CancelToken.source();\n    }\n  }]);\n\n  return ApiClient;\n}();\n\nexport { ApiClient as default };","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/services/Api.js"],"names":["SessionStorage","axios","destroySession","getSession","saveSession","jwt_decode","ApiClient","configs","defaultConfigs","API_URI","process","env","REACT_APP_API_URL","headers","path","params","resetConfigs","token","get","lang","Object","assign","key","value","uri","runtimeConfigs","getRuntimeConfigs","responseType","mergeConfigs","then","response","data","hasFile","post","put","delete","form","multiple","files","formData","FormData","keys","forEach","append","type","access","ggetRuntimeConfigs","URL","HEADERS","CONFIG","mmergeConfigs","user_data","user","firstname","lastname","user_id","console","log","status","statusText","refresh_token","res","refresh","uderData","resData","defaults","config","catch","err","JSON","stringify","CancelToken","source"],"mappings":"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","sourcesContent":["import SessionStorage from \"./SessionStorage\";\r\nimport axios from \"axios\";\r\nimport {destroySession, getSession, saveSession} from \"../utility/session\";\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nexport default class ApiClient {\r\n    configs = {};\r\n    defaultConfigs = {};\r\n    API_URI = process.env.REACT_APP_API_URL;\r\n\r\n    constructor() {\r\n        this.defaultConfigs = {\r\n            headers: {},\r\n            path: \"\",\r\n            params: {}\r\n        };\r\n        this.resetConfigs();\r\n    }\r\n\r\n    getRuntimeConfigs() {\r\n        const token = SessionStorage.get(\"token\");\r\n        const lang = SessionStorage.get(\"lang\") ? SessionStorage.get(\"lang\") : 'am';\r\n        let headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Lang\": lang,\r\n        };\r\n        if (token) {\r\n            headers[\"Token\"] = token;\r\n        }\r\n        return Object.assign({}, this.configs, {\r\n            headers\r\n        });\r\n    }\r\n\r\n    resetConfigs() {\r\n        this.configs = Object.assign({}, this.defaultConfigs);\r\n    }\r\n\r\n    setConfig(key, value) {\r\n        this.configs = Object.assign({}, this.configs, {\r\n            [key]: value\r\n        });\r\n    }\r\n\r\n    mergeConfigs(uri, params, headers, configs) {\r\n        const runtimeConfigs = this.getRuntimeConfigs();\r\n        let responseType = {};\r\n        if (params && params.responseType) {\r\n            responseType = params.responseType;\r\n        }\r\n        if (uri) {\r\n            params.path = uri;\r\n        }\r\n        return Object.assign(\r\n            {},\r\n            runtimeConfigs,\r\n            Object.assign(\r\n                {},\r\n                configs,\r\n                {\r\n                    ...responseType,\r\n                    params: Object.assign({}, runtimeConfigs.params, params),\r\n                    headers: Object.assign({}, runtimeConfigs.headers, headers),\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    static cancelToken() {\r\n        const CancelToken = axios.CancelToken;\r\n        return CancelToken.source();\r\n    }\r\n\r\n    get(uri, params = {}, headers = {}, configs = {}) {\r\n        return axios.get(`${this.API_URI}`, this.mergeConfigs(uri, params, headers, configs)\r\n        ).then(response => response.data);\r\n    }\r\n\r\n\r\n    post(uri, data, params = {}, headers = {}, configs = {hasFile: false}) {\r\n        return axios.post(`${this.API_URI}`, data,\r\n            this.mergeConfigs(uri, params, headers, configs)\r\n        ).then(response => response.data);\r\n    }\r\n\r\n\r\n    put(uri, data, params = {}, headers = {}, configs = {hasFile: false}) {\r\n        return axios.put(`${this.API_URI}`, data,\r\n            this.mergeConfigs(uri, params, headers, configs)\r\n        ).then(response => response.data);\r\n\r\n    }\r\n\r\n    delete(uri, params = {}, headers = {}, configs = {}) {\r\n        return axios.delete(`${this.API_URI}`,\r\n            this.mergeConfigs(uri, params, headers, configs)\r\n        ).then(response => response.data);\r\n    }\r\n\r\n    upload(uri, form, params = {}, headers = {}, configs = {multiple: false}) {\r\n        let files = form.files;\r\n        let formData = new FormData();\r\n        /*method map I change to forEach*/\r\n        Object.keys(files).forEach(\r\n            key => {\r\n                formData.append(\"data[\" + key + \"][file]\", files[key]);\r\n                formData.append(\"data[\" + key + \"][type]\", form.type);\r\n                formData.append(\"data[\" + key + \"][caption]\", \"caption \" + key);\r\n                formData.append(\"data[\" + key + \"][credit]\", \"credit \" + key);\r\n\r\n            })\r\n\r\n        return this.post(uri, formData, params, headers, configs);\r\n    }\r\n\r\n\r\n    /*----------------------------------------*/\r\n\r\n    ggetRuntimeConfigs() {\r\n        const access = SessionStorage.get(\"access\");\r\n        const lang = SessionStorage.get(\"lang\") ? SessionStorage.get(\"lang\") : 'am';\r\n        let headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Lang\": lang,\r\n        };\r\n        if (access) {\r\n            headers[\"Authorization\"] = `JWT ${access}`;\r\n        }\r\n        return Object.assign({}, {\r\n            headers\r\n        });\r\n    }\r\n\r\n    mmergeConfigs(headers) {\r\n        const runtimeConfigs = this.ggetRuntimeConfigs();\r\n        return Object.assign(\r\n            {},\r\n            runtimeConfigs,\r\n            Object.assign(\r\n                {},\r\n                {\r\n                    headers: Object.assign({}, runtimeConfigs.headers),\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    async postt(uri, data, headers = {}, configs = {}) {\r\n        let URL = uri;\r\n        let HEADERS = headers;\r\n        let CONFIG = configs\r\n        try {\r\n            const response = await axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\r\n            let user_data = jwt_decode(response.data.access);\r\n            let user = {\r\n                firstname: user_data.firstname,\r\n                lastname: user_data.lastname,\r\n                user_id: user_data.user_id\r\n            }\r\n            response.data.user = user\r\n            return response.data;\r\n        } catch (error) {\r\n            console.log('Error!')\r\n        }\r\n    }\r\n\r\n    async posttAdd(uri, data, headers = {}, configs = {}) {\r\n        let URL = uri;\r\n        let HEADERS = headers;\r\n        let CONFIG = configs\r\n        if (getSession('access')) {\r\n            try {\r\n                const response = await axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\r\n                return response.data;\r\n            } catch (error) {\r\n                if (error.response.status === 401 && error.response.statusText === \"Unauthorized\") {\r\n                    const refresh_token = getSession('refresh');\r\n\r\n                    try {\r\n                        const res = axios.post('/token/refresh/', {refresh: refresh_token});\r\n                        let uderData = jwt_decode(res.data.access);\r\n                        let user = {\r\n                            firstname: uderData.firstname,\r\n                            lastname: uderData.lastname,\r\n                            user_id: uderData.user_id\r\n                        }\r\n                        let resData = {};\r\n                        resData.refresh = res.data.refresh;\r\n                        resData.access = res.data.access;\r\n                        resData.user = user;\r\n                        axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        error.config.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        saveSession('auth', resData);\r\n                        return axios.post(URL, data, this.mmergeConfigs(HEADERS, CONFIG))\r\n                            .then(\r\n                                response => response.data\r\n                            )\r\n                            .catch(err => {\r\n                                console('Error')\r\n                            })\r\n\r\n                    } catch (error) {\r\n                        console.log('Error !');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async gett(uri, headers = {}, configs = {}) {\r\n        let URL = uri;\r\n        let HEADERS = headers;\r\n        let CONFIG = configs;\r\n        if (getSession('access')) {\r\n            try {\r\n                const response = await axios.get(URL, this.mmergeConfigs(HEADERS, CONFIG));\r\n                return response.data\r\n            } catch (error) {\r\n                if (error.response.status === 401 && error.response.statusText === \"Unauthorized\") {\r\n                    const refresh_token = getSession('refresh');\r\n                    console.log(JSON.stringify({refresh: refresh_token}))\r\n                    try {\r\n                        console.log(error.response.status)\r\n                        console.log(error.response.statusText)\r\n                        const res = axios.post('token/refresh/', JSON.stringify({refresh: refresh_token}));\r\n                        console.log(res.data);\r\n                        let uderData = jwt_decode(res.data.access);\r\n                        let user = {\r\n                            firstname: uderData.firstname,\r\n                            lastname: uderData.lastname,\r\n                            user_id: uderData.user_id\r\n                        }\r\n                        let resData = {};\r\n                        resData.refresh = res.data.refresh;\r\n                        resData.access = res.data.access;\r\n                        resData.user = user;\r\n                        axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        error.config.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        saveSession('auth', resData);\r\n                        return axios.get(URL, this.mmergeConfigs(HEADERS, CONFIG))\r\n                            .then(\r\n                                response => response.data\r\n                            )\r\n                            .catch(err => {\r\n                                console('Error')\r\n                            })\r\n\r\n                    } catch (error) {\r\n                        console.log('Error !');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setLogout() {\r\n        destroySession()\r\n    }\r\n\r\n\r\n    async deletee(uri, data, headers = {}, configs = {}) {\r\n        let URL = uri;\r\n        let HEADERS = headers;\r\n        let CONFIG = configs;\r\n        if (getSession('access')) {\r\n            try {\r\n                await axios.delete(URL, this.mmergeConfigs(HEADERS, CONFIG));\r\n                return data\r\n            } catch (error) {\r\n                if (error.response.status === 401 && error.response.statusText === \"Unauthorized\") {\r\n                    const refresh_token = getSession('refresh');\r\n\r\n                    try {\r\n                        const res = axios.post('/token/refresh/', {refresh: refresh_token});\r\n                        let uderData = jwt_decode(res.data.access);\r\n                        let user = {\r\n                            firstname: uderData.firstname,\r\n                            lastname: uderData.lastname,\r\n                            user_id: uderData.user_id\r\n                        }\r\n                        let resData = {};\r\n                        resData.refresh = res.data.refresh;\r\n                        resData.access = res.data.access;\r\n                        resData.user = user;\r\n                        axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        error.config.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        saveSession('auth', resData);\r\n                        return axios.delete(URL, this.mmergeConfigs(HEADERS, CONFIG))\r\n                            .then(\r\n                                response => response.data\r\n                            )\r\n                            .catch(err => {\r\n                                console('Error')\r\n                            })\r\n\r\n                    } catch (error) {\r\n                        console.log('Error !');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async putt(uri, data, headers = {}, configs = {}) {\r\n        let URL = uri;\r\n        let HEADERS = headers;\r\n        let CONFIG = configs;\r\n        if (getSession('access')) {\r\n            try {\r\n                const response = await axios.put(URL, data, this.mmergeConfigs(HEADERS, CONFIG));\r\n                return response.data;\r\n            } catch (error) {\r\n                if (error.response.status === 401 && error.response.statusText === \"Unauthorized\") {\r\n                    const refresh_token = getSession('refresh');\r\n\r\n                    try {\r\n                        const res = axios.post('/token/refresh/', {refresh: refresh_token});\r\n                        let uderData = jwt_decode(res.data.access);\r\n                        let user = {\r\n                            firstname: uderData.firstname,\r\n                            lastname: uderData.lastname,\r\n                            user_id: uderData.user_id\r\n                        }\r\n                        let resData = {};\r\n                        resData.refresh = res.data.refresh;\r\n                        resData.access = res.data.access;\r\n                        resData.user = user;\r\n                        axios.defaults.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        error.config.headers['Authorization'] = \"JWT \" + resData.access;\r\n                        saveSession('auth', resData);\r\n                        return axios.put(URL, data, this.mmergeConfigs(HEADERS, CONFIG))\r\n                            .then(\r\n                                response => response.data\r\n                            )\r\n                            .catch(err => {\r\n                                console('Error')\r\n                            })\r\n\r\n                    } catch (error) {\r\n                        console.log('Error !');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}