{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\barcode\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { LOGIN_REQUEST, LOGIN_REQUEST_FAIL, LOGIN_REQUEST_SUCCESS, LOGOUT_REQUEST, LOGOUT_REQUEST_FAIL, LOGOUT_REQUEST_SUCCESS } from \"./actionTypes\";\nimport { saveSession } from \"../../utility/session\"; // export const login = (form, redirectPath) => {\n//     console.log(form, redirectPath)\n//     return {\n//         types: [LOGIN_REQUEST,LOGIN_REQUEST_FAIL,LOGIN_REQUEST_SUCCESS],\n//         promise: (apiClient) => apiClient.postt(`token/obtain/`, form /*{ param:{form:form} }*/)\n//     }\n// };\n\nexport var logout = function logout() {\n  return {\n    types: [LOGOUT_REQUEST, LOGOUT_REQUEST_FAIL, LOGOUT_REQUEST_SUCCESS],\n    promise: function promise(apiClient) {\n      return apiClient.delete(\"Auth/Login\");\n    }\n  };\n};\nexport function login(data) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(\"token/obtain/\", data);\n\n              case 3:\n                response = _context.sent;\n                saveSession('auth', data.a);\n                console.log(response.data);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/barcode/src/redux/auth/actions.js"],"names":["axios","LOGIN_REQUEST","LOGIN_REQUEST_FAIL","LOGIN_REQUEST_SUCCESS","LOGOUT_REQUEST","LOGOUT_REQUEST_FAIL","LOGOUT_REQUEST_SUCCESS","saveSession","logout","types","promise","apiClient","delete","login","data","dispatch","post","response","a","console","log","message"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,aADJ,EAEIC,kBAFJ,EAGIC,qBAHJ,EAIIC,cAJJ,EAKIC,mBALJ,EAMIC,sBANJ,QAOO,eAPP;AAQA,SAAQC,WAAR,QAA0B,uBAA1B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACxB,SAAO;AACHC,IAAAA,KAAK,EAAE,CAACL,cAAD,EAAgBC,mBAAhB,EAAoCC,sBAApC,CADJ;AAEHI,IAAAA,OAAO,EAAE,iBAACC,SAAD;AAAA,aAAeA,SAAS,CAACC,MAAV,cAAf;AAAA;AAFN,GAAP;AAKH,CANM;AAQP,OAAO,SAASC,KAAT,CAAeC,IAAf,EAAqB;AAExB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGwBf,KAAK,CAACgB,IAAN,kBAA4BF,IAA5B,CAHxB;;AAAA;AAGOG,gBAAAA,QAHP;AAICV,gBAAAA,WAAW,CAAC,MAAD,EAAQO,IAAI,CAACI,CAAb,CAAX;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACH,IAArB;AALD;AAAA;;AAAA;AAAA;AAAA;AAOCK,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAEC,OAAd;;AAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAWH","sourcesContent":["import axios from 'axios'\r\nimport {\r\n    LOGIN_REQUEST,\r\n    LOGIN_REQUEST_FAIL,\r\n    LOGIN_REQUEST_SUCCESS,\r\n    LOGOUT_REQUEST,\r\n    LOGOUT_REQUEST_FAIL,\r\n    LOGOUT_REQUEST_SUCCESS\r\n} from \"./actionTypes\";\r\nimport {saveSession} from \"../../utility/session\";\r\n\r\n// export const login = (form, redirectPath) => {\r\n//     console.log(form, redirectPath)\r\n//     return {\r\n//         types: [LOGIN_REQUEST,LOGIN_REQUEST_FAIL,LOGIN_REQUEST_SUCCESS],\r\n//         promise: (apiClient) => apiClient.postt(`token/obtain/`, form /*{ param:{form:form} }*/)\r\n//     }\r\n// };\r\n\r\nexport const logout = () => {\r\n    return {\r\n        types: [LOGOUT_REQUEST,LOGOUT_REQUEST_FAIL,LOGOUT_REQUEST_SUCCESS],\r\n        promise: (apiClient) => apiClient.delete(`Auth/Login`)\r\n\r\n    }\r\n};\r\n\r\nexport function login(data) {\r\n\r\n    return async dispatch => {\r\n\r\n        try {\r\n            const response = await axios.post(`token/obtain/`, data)\r\n            saveSession('auth',data.a)\r\n            console.log(response.data)\r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}